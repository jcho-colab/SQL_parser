<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="786pt" height="646pt"
 viewBox="0.00 0.00 786.00 646.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 642)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-642 782,-642 782,4 -4,4"/>
<text text-anchor="middle" x="389" y="-622.8" font-family="Arial" font-size="14.00">SQL Query Diagram</text>
<text text-anchor="middle" x="389" y="-607.8" font-family="Arial" font-size="14.00">Complex Complexity | 9 Nodes | 9 Edges</text>
<g id="clust1" class="cluster">
<title>cluster_0</title>
<path fill="#f0f8f0" stroke="darkgreen" stroke-dasharray="5,2" d="M198,-254C198,-254 758,-254 758,-254 764,-254 770,-260 770,-266 770,-266 770,-508 770,-508 770,-514 764,-520 758,-520 758,-520 198,-520 198,-520 192,-520 186,-514 186,-508 186,-508 186,-266 186,-266 186,-260 192,-254 198,-254"/>
<text text-anchor="middle" x="478" y="-507.2" font-family="Arial" font-size="11.00" fill="darkgreen">CTE Level 0</text>
</g>
<!-- daily_returns -->
<g id="node1" class="node">
<title>daily_returns</title>
<path fill="#e8f5e8" stroke="#388e3c" stroke-width="2" d="M290,-408.5C290,-408.5 206,-408.5 206,-408.5 200,-408.5 194,-402.5 194,-396.5 194,-396.5 194,-335.5 194,-335.5 194,-329.5 200,-323.5 206,-323.5 206,-323.5 290,-323.5 290,-323.5 296,-323.5 302,-329.5 302,-335.5 302,-335.5 302,-396.5 302,-396.5 302,-402.5 296,-408.5 290,-408.5"/>
<text text-anchor="middle" x="248" y="-396.5" font-family="Arial" font-size="10.00">ğŸ”„ daily_returns</text>
<text text-anchor="middle" x="248" y="-385.5" font-family="Arial" font-size="10.00">ğŸ“‹ trade_date</text>
<text text-anchor="middle" x="248" y="-374.5" font-family="Arial" font-size="10.00"> &#160;&#160;volume</text>
<text text-anchor="middle" x="248" y="-363.5" font-family="Arial" font-size="10.00"> &#160;&#160;daily_return_pct</text>
<text text-anchor="middle" x="248" y="-352.5" font-family="Arial" font-size="10.00"> &#160;&#160;closing_price</text>
<text text-anchor="middle" x="248" y="-341.5" font-family="Arial" font-size="10.00"> &#160;&#160;... (+2)</text>
<text text-anchor="middle" x="248" y="-330.5" font-family="Arial" font-size="10.00">ğŸ”— 1 deps</text>
</g>
<!-- volatility_metrics -->
<g id="node2" class="node">
<title>volatility_metrics</title>
<path fill="#e8f5e8" stroke="#388e3c" stroke-width="2" d="M502,-491.5C502,-491.5 418,-491.5 418,-491.5 412,-491.5 406,-485.5 406,-479.5 406,-479.5 406,-418.5 406,-418.5 406,-412.5 412,-406.5 418,-406.5 418,-406.5 502,-406.5 502,-406.5 508,-406.5 514,-412.5 514,-418.5 514,-418.5 514,-479.5 514,-479.5 514,-485.5 508,-491.5 502,-491.5"/>
<text text-anchor="middle" x="460" y="-479.5" font-family="Arial" font-size="10.00">ğŸ”„ volatility_metrics</text>
<text text-anchor="middle" x="460" y="-468.5" font-family="Arial" font-size="10.00">ğŸ“‹ trading_days</text>
<text text-anchor="middle" x="460" y="-457.5" font-family="Arial" font-size="10.00"> &#160;&#160;best_day</text>
<text text-anchor="middle" x="460" y="-446.5" font-family="Arial" font-size="10.00"> &#160;&#160;volatility</text>
<text text-anchor="middle" x="460" y="-435.5" font-family="Arial" font-size="10.00"> &#160;&#160;worst_day</text>
<text text-anchor="middle" x="460" y="-424.5" font-family="Arial" font-size="10.00"> &#160;&#160;... (+2)</text>
<text text-anchor="middle" x="460" y="-413.5" font-family="Arial" font-size="10.00">ğŸ”— 1 deps</text>
</g>
<!-- daily_returns&#45;&gt;volatility_metrics -->
<g id="edge2" class="edge">
<title>daily_returns&#45;&gt;volatility_metrics</title>
<path fill="none" stroke="#388e3c" d="M302.05,-377.25C364.86,-377.25 460,-377.25 460,-377.25 460,-377.25 460,-398.43 460,-398.43"/>
<polygon fill="#388e3c" stroke="#388e3c" points="457.2,-398.43 460,-406.43 462.8,-398.43 457.2,-398.43"/>
</g>
<!-- subquery_0_0 -->
<g id="node8" class="node">
<title>subquery_0_0</title>
<path fill="#fff3e0" stroke="#f57c00" stroke-width="2" d="M507.5,-204C507.5,-204 412.5,-204 412.5,-204 406.5,-204 400.5,-198 400.5,-192 400.5,-192 400.5,-142 400.5,-142 400.5,-136 406.5,-130 412.5,-130 412.5,-130 507.5,-130 507.5,-130 513.5,-130 519.5,-136 519.5,-142 519.5,-142 519.5,-192 519.5,-192 519.5,-198 513.5,-204 507.5,-204"/>
<text text-anchor="middle" x="460" y="-192" font-family="Arial" font-size="10.00">ğŸ“Š sector_performance</text>
<text text-anchor="middle" x="460" y="-181" font-family="Arial" font-size="10.00">(subquery_0_0)</text>
<text text-anchor="middle" x="460" y="-170" font-family="Arial" font-size="10.00">ğŸ“‹ sector_name</text>
<text text-anchor="middle" x="460" y="-159" font-family="Arial" font-size="10.00"> &#160;&#160;symbol</text>
<text text-anchor="middle" x="460" y="-148" font-family="Arial" font-size="10.00"> &#160;&#160;sector_avg_return</text>
<text text-anchor="middle" x="460" y="-137" font-family="Arial" font-size="10.00">ğŸ”— 2 deps</text>
</g>
<!-- daily_returns&#45;&gt;subquery_0_0 -->
<g id="edge7" class="edge">
<title>daily_returns&#45;&gt;subquery_0_0</title>
<path fill="none" stroke="#f57c00" stroke-dasharray="5,2" d="M302.17,-335.75C324.39,-335.75 345,-335.75 345,-335.75 345,-335.75 345,-167 345,-167 345,-167 392.48,-167 392.48,-167"/>
<polygon fill="#f57c00" stroke="#f57c00" points="392.48,-169.8 400.48,-167 392.48,-164.2 392.48,-169.8"/>
</g>
<!-- risk_adjusted_returns -->
<g id="node4" class="node">
<title>risk_adjusted_returns</title>
<path fill="#e8f5e8" stroke="#388e3c" stroke-width="2" d="M750,-420C750,-420 630,-420 630,-420 624,-420 618,-414 618,-408 618,-408 618,-346 618,-346 618,-340 624,-334 630,-334 630,-334 750,-334 750,-334 756,-334 762,-340 762,-346 762,-346 762,-408 762,-408 762,-414 756,-420 750,-420"/>
<text text-anchor="middle" x="690" y="-407.5" font-family="Arial" font-size="10.00">ğŸ”„ risk_adjusted_returns</text>
<text text-anchor="middle" x="690" y="-396.5" font-family="Arial" font-size="10.00">ğŸ“‹ portfolio_id</text>
<text text-anchor="middle" x="690" y="-385.5" font-family="Arial" font-size="10.00"> &#160;&#160;volatility</text>
<text text-anchor="middle" x="690" y="-374.5" font-family="Arial" font-size="10.00"> &#160;&#160;weight</text>
<text text-anchor="middle" x="690" y="-363.5" font-family="Arial" font-size="10.00"> &#160;&#160;sharpe_ratio</text>
<text text-anchor="middle" x="690" y="-352.5" font-family="Arial" font-size="10.00"> &#160;&#160;... (+3)</text>
<text text-anchor="middle" x="690" y="-341.5" font-family="Arial" font-size="10.00">ğŸ”— 2 deps</text>
</g>
<!-- volatility_metrics&#45;&gt;risk_adjusted_returns -->
<g id="edge6" class="edge">
<title>volatility_metrics&#45;&gt;risk_adjusted_returns</title>
<path fill="none" stroke="#388e3c" d="M514.22,-413.25C514.22,-413.25 609.86,-413.25 609.86,-413.25"/>
<polygon fill="#388e3c" stroke="#388e3c" points="609.86,-416.05 617.86,-413.25 609.86,-410.45 609.86,-416.05"/>
</g>
<!-- portfolio_weights -->
<g id="node3" class="node">
<title>portfolio_weights</title>
<path fill="#e8f5e8" stroke="#388e3c" stroke-width="2" d="M520,-348C520,-348 400,-348 400,-348 394,-348 388,-342 388,-336 388,-336 388,-274 388,-274 388,-268 394,-262 400,-262 400,-262 520,-262 520,-262 526,-262 532,-268 532,-274 532,-274 532,-336 532,-336 532,-342 526,-348 520,-348"/>
<text text-anchor="middle" x="460" y="-335.5" font-family="Arial" font-size="10.00">ğŸ”„ portfolio_weights</text>
<text text-anchor="middle" x="460" y="-324.5" font-family="Arial" font-size="10.00">ğŸ“‹ total_portfolio_value</text>
<text text-anchor="middle" x="460" y="-313.5" font-family="Arial" font-size="10.00"> &#160;&#160;portfolio_id</text>
<text text-anchor="middle" x="460" y="-302.5" font-family="Arial" font-size="10.00"> &#160;&#160;position_value</text>
<text text-anchor="middle" x="460" y="-291.5" font-family="Arial" font-size="10.00"> &#160;&#160;current_price</text>
<text text-anchor="middle" x="460" y="-280.5" font-family="Arial" font-size="10.00"> &#160;&#160;... (+2)</text>
<text text-anchor="middle" x="460" y="-269.5" font-family="Arial" font-size="10.00">ğŸ”— 2 deps</text>
</g>
<!-- portfolio_weights&#45;&gt;risk_adjusted_returns -->
<g id="edge5" class="edge">
<title>portfolio_weights&#45;&gt;risk_adjusted_returns</title>
<path fill="none" stroke="#388e3c" d="M532.14,-341C532.14,-341 609.72,-341 609.72,-341"/>
<polygon fill="#388e3c" stroke="#388e3c" points="609.72,-343.8 617.72,-341 609.72,-338.2 609.72,-343.8"/>
</g>
<!-- stocks -->
<g id="node5" class="node">
<title>stocks</title>
<path fill="#e3f2fd" stroke="#1976d2" stroke-width="2" d="M290,-203C290,-203 206,-203 206,-203 200,-203 194,-197 194,-191 194,-191 194,-143 194,-143 194,-137 200,-131 206,-131 206,-131 290,-131 290,-131 296,-131 302,-137 302,-143 302,-143 302,-191 302,-191 302,-197 296,-203 290,-203"/>
<text text-anchor="middle" x="248" y="-170" font-family="Arial" font-size="10.00">ğŸ“‹ s</text>
<text text-anchor="middle" x="248" y="-159" font-family="Arial" font-size="10.00">(stocks)</text>
</g>
<!-- stocks&#45;&gt;portfolio_weights -->
<g id="edge3" class="edge">
<title>stocks&#45;&gt;portfolio_weights</title>
<path fill="none" stroke="#388e3c" d="M302.32,-185C344.19,-185 395,-185 395,-185 395,-185 395,-253.68 395,-253.68"/>
<polygon fill="#388e3c" stroke="#388e3c" points="392.2,-253.68 395,-261.68 397.8,-253.68 392.2,-253.68"/>
</g>
<!-- stocks&#45;&gt;subquery_0_0 -->
<g id="edge8" class="edge">
<title>stocks&#45;&gt;subquery_0_0</title>
<path fill="none" stroke="#f57c00" stroke-dasharray="5,2" d="M302.05,-149C302.05,-149 392.46,-149 392.46,-149"/>
<polygon fill="#f57c00" stroke="#f57c00" points="392.46,-151.8 400.46,-149 392.46,-146.2 392.46,-151.8"/>
</g>
<!-- subquery_0_1 -->
<g id="node9" class="node">
<title>subquery_0_1</title>
<path fill="#fff3e0" stroke="#f57c00" stroke-width="2" d="M507.5,-72C507.5,-72 412.5,-72 412.5,-72 406.5,-72 400.5,-66 400.5,-60 400.5,-60 400.5,-12 400.5,-12 400.5,-6 406.5,0 412.5,0 412.5,0 507.5,0 507.5,0 513.5,0 519.5,-6 519.5,-12 519.5,-12 519.5,-60 519.5,-60 519.5,-66 513.5,-72 507.5,-72"/>
<text text-anchor="middle" x="460" y="-55.5" font-family="Arial" font-size="10.00">ğŸ“Š market_cap</text>
<text text-anchor="middle" x="460" y="-44.5" font-family="Arial" font-size="10.00">(subquery_0_1)</text>
<text text-anchor="middle" x="460" y="-33.5" font-family="Arial" font-size="10.00">ğŸ“‹ symbol</text>
<text text-anchor="middle" x="460" y="-22.5" font-family="Arial" font-size="10.00"> &#160;&#160;market_cap_category</text>
<text text-anchor="middle" x="460" y="-11.5" font-family="Arial" font-size="10.00">ğŸ”— 1 deps</text>
</g>
<!-- stocks&#45;&gt;subquery_0_1 -->
<g id="edge9" class="edge">
<title>stocks&#45;&gt;subquery_0_1</title>
<path fill="none" stroke="#f57c00" stroke-dasharray="5,2" d="M248,-130.86C248,-92.08 248,-36 248,-36 248,-36 392.38,-36 392.38,-36"/>
<polygon fill="#f57c00" stroke="#f57c00" points="392.38,-38.8 400.38,-36 392.38,-33.2 392.38,-38.8"/>
</g>
<!-- stock_prices -->
<g id="node6" class="node">
<title>stock_prices</title>
<path fill="#e3f2fd" stroke="#1976d2" stroke-width="2" d="M96,-402C96,-402 12,-402 12,-402 6,-402 0,-396 0,-390 0,-390 0,-342 0,-342 0,-336 6,-330 12,-330 12,-330 96,-330 96,-330 102,-330 108,-336 108,-342 108,-342 108,-390 108,-390 108,-396 102,-402 96,-402"/>
<text text-anchor="middle" x="54" y="-363.5" font-family="Arial" font-size="10.00">ğŸ“‹ stock_prices</text>
</g>
<!-- stock_prices&#45;&gt;daily_returns -->
<g id="edge1" class="edge">
<title>stock_prices&#45;&gt;daily_returns</title>
<path fill="none" stroke="#388e3c" d="M108.04,-366C108.04,-366 185.91,-366 185.91,-366"/>
<polygon fill="#388e3c" stroke="#388e3c" points="185.91,-368.8 193.91,-366 185.91,-363.2 185.91,-368.8"/>
</g>
<!-- portfolio_holdings -->
<g id="node7" class="node">
<title>portfolio_holdings</title>
<path fill="#e3f2fd" stroke="#1976d2" stroke-width="2" d="M290,-600C290,-600 206,-600 206,-600 200,-600 194,-594 194,-588 194,-588 194,-540 194,-540 194,-534 200,-528 206,-528 206,-528 290,-528 290,-528 296,-528 302,-534 302,-540 302,-540 302,-588 302,-588 302,-594 296,-600 290,-600"/>
<text text-anchor="middle" x="248" y="-567" font-family="Arial" font-size="10.00">ğŸ“‹ p</text>
<text text-anchor="middle" x="248" y="-556" font-family="Arial" font-size="10.00">(portfolio_holdings)</text>
</g>
<!-- portfolio_holdings&#45;&gt;portfolio_weights -->
<g id="edge4" class="edge">
<title>portfolio_holdings&#45;&gt;portfolio_weights</title>
<path fill="none" stroke="#388e3c" d="M302.21,-564C344.82,-564 397,-564 397,-564 397,-564 397,-356.06 397,-356.06"/>
<polygon fill="#388e3c" stroke="#388e3c" points="399.8,-356.06 397,-348.06 394.2,-356.06 399.8,-356.06"/>
</g>
</g>
</svg>
