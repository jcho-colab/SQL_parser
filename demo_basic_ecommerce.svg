<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="542pt" height="572pt"
 viewBox="0.00 0.00 542.00 572.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 568)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-568 538,-568 538,4 -4,4"/>
<!-- customer_base -->
<g id="node1" class="node">
<title>customer_base</title>
<path fill="#e8f5e8" stroke="black" d="M233,-381C233,-381 150,-381 150,-381 144,-381 138,-375 138,-369 138,-369 138,-280 138,-280 138,-274 144,-268 150,-268 150,-268 233,-268 233,-268 239,-268 245,-274 245,-280 245,-280 245,-369 245,-369 245,-375 239,-381 233,-381"/>
<text text-anchor="middle" x="191.5" y="-365.8" font-family="Times,serif" font-size="14.00">customer_base</text>
<text text-anchor="middle" x="191.5" y="-350.8" font-family="Times,serif" font-size="14.00">Type: cte</text>
<text text-anchor="middle" x="191.5" y="-335.8" font-family="Times,serif" font-size="14.00">Columns:</text>
<text text-anchor="middle" x="191.5" y="-320.8" font-family="Times,serif" font-size="14.00">customer_id</text>
<text text-anchor="middle" x="191.5" y="-305.8" font-family="Times,serif" font-size="14.00">customer_tier</text>
<text text-anchor="middle" x="191.5" y="-290.8" font-family="Times,serif" font-size="14.00">registration_date</text>
<text text-anchor="middle" x="191.5" y="-275.8" font-family="Times,serif" font-size="14.00">... (+2 more)</text>
</g>
<!-- order_metrics -->
<g id="node2" class="node">
<title>order_metrics</title>
<path fill="#e8f5e8" stroke="black" d="M361,-365C361,-365 293,-365 293,-365 287,-365 281,-359 281,-353 281,-353 281,-264 281,-264 281,-258 287,-252 293,-252 293,-252 361,-252 361,-252 367,-252 373,-258 373,-264 373,-264 373,-353 373,-353 373,-359 367,-365 361,-365"/>
<text text-anchor="middle" x="327" y="-349.8" font-family="Times,serif" font-size="14.00">order_metrics</text>
<text text-anchor="middle" x="327" y="-334.8" font-family="Times,serif" font-size="14.00">Type: cte</text>
<text text-anchor="middle" x="327" y="-319.8" font-family="Times,serif" font-size="14.00">Columns:</text>
<text text-anchor="middle" x="327" y="-304.8" font-family="Times,serif" font-size="14.00">customer_id</text>
<text text-anchor="middle" x="327" y="-289.8" font-family="Times,serif" font-size="14.00">customer_tier</text>
<text text-anchor="middle" x="327" y="-274.8" font-family="Times,serif" font-size="14.00">total_spent</text>
<text text-anchor="middle" x="327" y="-259.8" font-family="Times,serif" font-size="14.00">... (+4 more)</text>
</g>
<!-- customer_base&#45;&gt;order_metrics -->
<g id="edge3" class="edge">
<title>customer_base&#45;&gt;order_metrics</title>
<path fill="none" stroke="#388e3c" d="M245.26,-318.18C253.66,-317.17 262.36,-316.13 270.81,-315.11"/>
<polygon fill="#388e3c" stroke="#388e3c" points="271.44,-318.56 280.95,-313.9 270.6,-311.61 271.44,-318.56"/>
</g>
<!-- product_affinity -->
<g id="node3" class="node">
<title>product_affinity</title>
<path fill="#e8f5e8" stroke="black" d="M516,-225C516,-225 427,-225 427,-225 421,-225 415,-219 415,-213 415,-213 415,-124 415,-124 415,-118 421,-112 427,-112 427,-112 516,-112 516,-112 522,-112 528,-118 528,-124 528,-124 528,-213 528,-213 528,-219 522,-225 516,-225"/>
<text text-anchor="middle" x="471.5" y="-209.8" font-family="Times,serif" font-size="14.00">product_affinity</text>
<text text-anchor="middle" x="471.5" y="-194.8" font-family="Times,serif" font-size="14.00">Type: cte</text>
<text text-anchor="middle" x="471.5" y="-179.8" font-family="Times,serif" font-size="14.00">Columns:</text>
<text text-anchor="middle" x="471.5" y="-164.8" font-family="Times,serif" font-size="14.00">category_revenue</text>
<text text-anchor="middle" x="471.5" y="-149.8" font-family="Times,serif" font-size="14.00">customer_id</text>
<text text-anchor="middle" x="471.5" y="-134.8" font-family="Times,serif" font-size="14.00">unique_products</text>
<text text-anchor="middle" x="471.5" y="-119.8" font-family="Times,serif" font-size="14.00">... (+2 more)</text>
</g>
<!-- order_metrics&#45;&gt;product_affinity -->
<g id="edge5" class="edge">
<title>order_metrics&#45;&gt;product_affinity</title>
<path fill="none" stroke="#388e3c" d="M373.09,-264.2C384.09,-253.39 396.07,-241.63 407.73,-230.16"/>
<polygon fill="#388e3c" stroke="#388e3c" points="410.27,-232.58 414.95,-223.08 405.36,-227.59 410.27,-232.58"/>
</g>
<!-- customer_segments -->
<g id="node4" class="node">
<title>customer_segments</title>
<path fill="#e8f5e8" stroke="black" d="M522,-365C522,-365 421,-365 421,-365 415,-365 409,-359 409,-353 409,-353 409,-264 409,-264 409,-258 415,-252 421,-252 421,-252 522,-252 522,-252 528,-252 534,-258 534,-264 534,-264 534,-353 534,-353 534,-359 528,-365 522,-365"/>
<text text-anchor="middle" x="471.5" y="-349.8" font-family="Times,serif" font-size="14.00">customer_segments</text>
<text text-anchor="middle" x="471.5" y="-334.8" font-family="Times,serif" font-size="14.00">Type: cte</text>
<text text-anchor="middle" x="471.5" y="-319.8" font-family="Times,serif" font-size="14.00">Columns:</text>
<text text-anchor="middle" x="471.5" y="-304.8" font-family="Times,serif" font-size="14.00">customer_id</text>
<text text-anchor="middle" x="471.5" y="-289.8" font-family="Times,serif" font-size="14.00">spending_rank</text>
<text text-anchor="middle" x="471.5" y="-274.8" font-family="Times,serif" font-size="14.00">customer_tier</text>
<text text-anchor="middle" x="471.5" y="-259.8" font-family="Times,serif" font-size="14.00">... (+5 more)</text>
</g>
<!-- order_metrics&#45;&gt;customer_segments -->
<g id="edge9" class="edge">
<title>order_metrics&#45;&gt;customer_segments</title>
<path fill="none" stroke="#388e3c" d="M373.09,-308.5C381.23,-308.5 389.91,-308.5 398.6,-308.5"/>
<polygon fill="#388e3c" stroke="#388e3c" points="398.77,-312 408.77,-308.5 398.77,-305 398.77,-312"/>
</g>
<!-- customers -->
<g id="node5" class="node">
<title>customers</title>
<path fill="#e3f2fd" stroke="black" d="M79.5,-351C79.5,-351 22.5,-351 22.5,-351 16.5,-351 10.5,-345 10.5,-339 10.5,-339 10.5,-310 10.5,-310 10.5,-304 16.5,-298 22.5,-298 22.5,-298 79.5,-298 79.5,-298 85.5,-298 91.5,-304 91.5,-310 91.5,-310 91.5,-339 91.5,-339 91.5,-345 85.5,-351 79.5,-351"/>
<text text-anchor="middle" x="51" y="-335.8" font-family="Times,serif" font-size="14.00">c</text>
<text text-anchor="middle" x="51" y="-320.8" font-family="Times,serif" font-size="14.00">(customers)</text>
<text text-anchor="middle" x="51" y="-305.8" font-family="Times,serif" font-size="14.00">Type: table</text>
</g>
<!-- customers&#45;&gt;customer_base -->
<g id="edge1" class="edge">
<title>customers&#45;&gt;customer_base</title>
<path fill="none" stroke="#388e3c" d="M91.69,-324.5C102.93,-324.5 115.45,-324.5 127.7,-324.5"/>
<polygon fill="#388e3c" stroke="#388e3c" points="127.89,-328 137.89,-324.5 127.89,-321 127.89,-328"/>
</g>
<!-- regions -->
<g id="node6" class="node">
<title>regions</title>
<path fill="#e3f2fd" stroke="black" d="M77.5,-422C77.5,-422 24.5,-422 24.5,-422 18.5,-422 12.5,-416 12.5,-410 12.5,-410 12.5,-381 12.5,-381 12.5,-375 18.5,-369 24.5,-369 24.5,-369 77.5,-369 77.5,-369 83.5,-369 89.5,-375 89.5,-381 89.5,-381 89.5,-410 89.5,-410 89.5,-416 83.5,-422 77.5,-422"/>
<text text-anchor="middle" x="51" y="-406.8" font-family="Times,serif" font-size="14.00">r</text>
<text text-anchor="middle" x="51" y="-391.8" font-family="Times,serif" font-size="14.00">(regions)</text>
<text text-anchor="middle" x="51" y="-376.8" font-family="Times,serif" font-size="14.00">Type: table</text>
</g>
<!-- orders -->
<g id="node7" class="node">
<title>orders</title>
<path fill="#e3f2fd" stroke="black" d="M218,-250C218,-250 165,-250 165,-250 159,-250 153,-244 153,-238 153,-238 153,-209 153,-209 153,-203 159,-197 165,-197 165,-197 218,-197 218,-197 224,-197 230,-203 230,-209 230,-209 230,-238 230,-238 230,-244 224,-250 218,-250"/>
<text text-anchor="middle" x="191.5" y="-234.8" font-family="Times,serif" font-size="14.00">o</text>
<text text-anchor="middle" x="191.5" y="-219.8" font-family="Times,serif" font-size="14.00">(orders)</text>
<text text-anchor="middle" x="191.5" y="-204.8" font-family="Times,serif" font-size="14.00">Type: table</text>
</g>
<!-- orders&#45;&gt;order_metrics -->
<g id="edge2" class="edge">
<title>orders&#45;&gt;order_metrics</title>
<path fill="none" stroke="#388e3c" d="M230.04,-247.4C243.07,-255.7 257.95,-265.17 272.04,-274.14"/>
<polygon fill="#388e3c" stroke="#388e3c" points="270.37,-277.23 280.68,-279.65 274.13,-271.32 270.37,-277.23"/>
</g>
<!-- orders&#45;&gt;product_affinity -->
<g id="edge6" class="edge">
<title>orders&#45;&gt;product_affinity</title>
<path fill="none" stroke="#388e3c" d="M230.29,-222.25C267.12,-220.4 324.52,-215.82 373,-204.5 383.56,-202.04 394.54,-198.74 405.15,-195.15"/>
<polygon fill="#388e3c" stroke="#388e3c" points="406.49,-198.39 414.78,-191.78 404.18,-191.78 406.49,-198.39"/>
</g>
<!-- order_items -->
<g id="node8" class="node">
<title>order_items</title>
<path fill="#e3f2fd" stroke="black" d="M360.5,-195C360.5,-195 293.5,-195 293.5,-195 287.5,-195 281.5,-189 281.5,-183 281.5,-183 281.5,-154 281.5,-154 281.5,-148 287.5,-142 293.5,-142 293.5,-142 360.5,-142 360.5,-142 366.5,-142 372.5,-148 372.5,-154 372.5,-154 372.5,-183 372.5,-183 372.5,-189 366.5,-195 360.5,-195"/>
<text text-anchor="middle" x="327" y="-179.8" font-family="Times,serif" font-size="14.00">oi</text>
<text text-anchor="middle" x="327" y="-164.8" font-family="Times,serif" font-size="14.00">(order_items)</text>
<text text-anchor="middle" x="327" y="-149.8" font-family="Times,serif" font-size="14.00">Type: table</text>
</g>
<!-- order_items&#45;&gt;product_affinity -->
<g id="edge4" class="edge">
<title>order_items&#45;&gt;product_affinity</title>
<path fill="none" stroke="#388e3c" d="M372.7,-168.5C382.84,-168.5 393.82,-168.5 404.64,-168.5"/>
<polygon fill="#388e3c" stroke="#388e3c" points="404.92,-172 414.92,-168.5 404.92,-165 404.92,-172"/>
</g>
<!-- products -->
<g id="node9" class="node">
<title>products</title>
<path fill="#e3f2fd" stroke="black" d="M353.5,-124C353.5,-124 300.5,-124 300.5,-124 294.5,-124 288.5,-118 288.5,-112 288.5,-112 288.5,-83 288.5,-83 288.5,-77 294.5,-71 300.5,-71 300.5,-71 353.5,-71 353.5,-71 359.5,-71 365.5,-77 365.5,-83 365.5,-83 365.5,-112 365.5,-112 365.5,-118 359.5,-124 353.5,-124"/>
<text text-anchor="middle" x="327" y="-108.8" font-family="Times,serif" font-size="14.00">p</text>
<text text-anchor="middle" x="327" y="-93.8" font-family="Times,serif" font-size="14.00">(products)</text>
<text text-anchor="middle" x="327" y="-78.8" font-family="Times,serif" font-size="14.00">Type: table</text>
</g>
<!-- products&#45;&gt;product_affinity -->
<g id="edge7" class="edge">
<title>products&#45;&gt;product_affinity</title>
<path fill="none" stroke="#388e3c" d="M365.81,-116.34C378.01,-122.42 391.89,-129.33 405.47,-136.1"/>
<polygon fill="#388e3c" stroke="#388e3c" points="404.28,-139.42 414.8,-140.75 407.41,-133.15 404.28,-139.42"/>
</g>
<!-- categories -->
<g id="node10" class="node">
<title>categories</title>
<path fill="#e3f2fd" stroke="black" d="M355,-53C355,-53 299,-53 299,-53 293,-53 287,-47 287,-41 287,-41 287,-12 287,-12 287,-6 293,0 299,0 299,0 355,0 355,0 361,0 367,-6 367,-12 367,-12 367,-41 367,-41 367,-47 361,-53 355,-53"/>
<text text-anchor="middle" x="327" y="-37.8" font-family="Times,serif" font-size="14.00">c</text>
<text text-anchor="middle" x="327" y="-22.8" font-family="Times,serif" font-size="14.00">(categories)</text>
<text text-anchor="middle" x="327" y="-7.8" font-family="Times,serif" font-size="14.00">Type: table</text>
</g>
<!-- categories&#45;&gt;product_affinity -->
<g id="edge8" class="edge">
<title>categories&#45;&gt;product_affinity</title>
<path fill="none" stroke="#388e3c" d="M362.37,-53.09C366.03,-56.19 369.64,-59.36 373,-62.5 387.01,-75.58 401.37,-90.32 414.61,-104.57"/>
<polygon fill="#388e3c" stroke="#388e3c" points="412.08,-106.98 421.43,-111.96 417.22,-102.24 412.08,-106.98"/>
</g>
<!-- subquery_0 -->
<g id="node11" class="node">
<title>subquery_0</title>
<path fill="#fff3e0" stroke="black" d="M89.5,-493C89.5,-493 12.5,-493 12.5,-493 6.5,-493 0.5,-487 0.5,-481 0.5,-481 0.5,-452 0.5,-452 0.5,-446 6.5,-440 12.5,-440 12.5,-440 89.5,-440 89.5,-440 95.5,-440 101.5,-446 101.5,-452 101.5,-452 101.5,-481 101.5,-481 101.5,-487 95.5,-493 89.5,-493"/>
<text text-anchor="middle" x="51" y="-477.8" font-family="Times,serif" font-size="14.00">regional_data</text>
<text text-anchor="middle" x="51" y="-462.8" font-family="Times,serif" font-size="14.00">(subquery_0)</text>
<text text-anchor="middle" x="51" y="-447.8" font-family="Times,serif" font-size="14.00">Type: subquery</text>
</g>
<!-- subquery_1 -->
<g id="node12" class="node">
<title>subquery_1</title>
<path fill="#fff3e0" stroke="black" d="M90,-564C90,-564 12,-564 12,-564 6,-564 0,-558 0,-552 0,-552 0,-523 0,-523 0,-517 6,-511 12,-511 12,-511 90,-511 90,-511 96,-511 102,-517 102,-523 102,-523 102,-552 102,-552 102,-558 96,-564 90,-564"/>
<text text-anchor="middle" x="51" y="-548.8" font-family="Times,serif" font-size="14.00">seasonal_trends</text>
<text text-anchor="middle" x="51" y="-533.8" font-family="Times,serif" font-size="14.00">(subquery_1)</text>
<text text-anchor="middle" x="51" y="-518.8" font-family="Times,serif" font-size="14.00">Type: subquery</text>
</g>
</g>
</svg>
